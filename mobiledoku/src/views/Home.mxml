<?xml version="1.0" encoding="utf-8"?>
<!-- 
	Home-Screen mit Anordnung von 6 verschiedenen Buttons zu den wichtigsten Navigationspunkten
	
	Autor: 		Petra Weiss
	Datum:		5.2.2014
	Gesehen:	
-->	
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009"
		xmlns:s="library://ns.adobe.com/flex/spark"
		title="Home"
		viewActivate="onViewActivated()" 
		viewDeactivate="onViewDeactivated()">

	<fx:Script>
		<![CDATA[
			import mx.core.FlexGlobals;

			import renderers.MenuRenderer;
			private var item:MenuRenderer = new MenuRenderer();
			
			protected function onViewActivated():void{
				// DEBUG
				// FlexGlobals.topLevelApplication.text = "home";

				// Setze Farbe der ActionBar -> setze Klasse f端r s:ViewNavigator
				navigator.setStyle("styleName", "default");
				
				// Change ITEM Status bei aktiver View ...
				// vgl. UpdateRenderer()
				
				// aktiviere ersten Navigationspunkt in Navigation links
				(FlexGlobals.topLevelApplication.componentsList.dataGroup.getElementAt(0) as Object).setNavState();
				//item.itemLabel.getElementAt(3).currentState = "selected";
				//item.getElementAt(3).currentState = "selected";
				//item.itemLabel.currentState = "selected";
			}
			protected function onViewDeactivated():void {
				// deaktiviere ersten Navigationspunkt in Navigation links
				(FlexGlobals.topLevelApplication.componentsList.dataGroup.getElementAt(0) as Object).resetNavState();
			}
			
			// Funktion f端r Hotline-Anruf
			import flash.net.navigateToURL; // importiere navigateToURL-Klasse
			
			private function callHotline(event:MouseEvent):void{
				navigateToURL(new URLRequest("tel:0790000000")); // Test it: Test-Nummer hinterlegt ..
			}
			
		]]>
	</fx:Script>	
	
	<fx:Declarations>
		<!-- definiere CrossFade -->
		<s:CrossFadeViewTransition id="crossFade" duration="200" />
	</fx:Declarations>
	
	<s:layout>
		<s:VerticalLayout 
			verticalAlign="top" horizontalAlign="center"
			paddingLeft="10" paddingRight="10"
			paddingTop="10"
			gap="5"/>
		
	</s:layout>
	
	<s:HGroup height="30%" paddingTop="50" paddingBottom="-5">
		<s:VGroup horizontalAlign="center" width="455" paddingTop="45" >
			<s:Button click="navigator.pushView(Getraenkezubereitung)" styleName="homebtn-ibn" />
			<s:Label click="navigator.pushView(Getraenkezubereitung)" text="{resourceManager.getString('resources', 'IBN')}" styleName="homelabel" />
		</s:VGroup>
		<s:VGroup paddingTop="40">
			<!-- Trennlinie vertikal -->
			<s:Line xFrom="6" xTo="6" yFrom="0" yTo="480" height="100%">
				<s:stroke>
					<s:SolidColorStroke color="#bfbfbf" weight="2" caps="square"/>
				</s:stroke>
			</s:Line> 			
		</s:VGroup>
		<s:VGroup horizontalAlign="center" width="455" paddingTop="45">
			<s:Button click="navigator.pushView(Getraenkezubereitung)" styleName="homebtn-gzb" />
			<!-- separate Ressource f端r langes Wort, damit korrekt getrennt wird in D -->
			<s:Label width="300" textAlign="center" click="navigator.pushView(Getraenkezubereitung)" styleName="homelabel">
				<s:text>{resourceManager.getString('resources', 'GZB_H')}</s:text>
			</s:Label>
		</s:VGroup>
	</s:HGroup>	
	<!-- Trennlinie horizontal -->
	<s:Rect bottom="0" width="90%" >
		<s:stroke>
			<s:SolidColorStroke color="#bfbfbf" weight="2" />
		</s:stroke>
	</s:Rect>
	<s:HGroup height="30%" paddingTop="-5" paddingBottom="-5">
		<s:VGroup horizontalAlign="center" width="455" paddingTop="45" >
			<s:Button click="navigator.pushView(Getraenkezubereitung)" styleName="homebtn-reinigung" />
			<s:Label click="navigator.pushView(Getraenkezubereitung)" text="{resourceManager.getString('resources', 'REINIGUNG')}" styleName="homelabel" />
		</s:VGroup>
		<s:VGroup>
			<!-- Trennlinie vertikal -->
			<s:Line xFrom="6" xTo="6" yFrom="0" yTo="550" height="100%">
				<s:stroke>
					<s:SolidColorStroke color="#bfbfbf" weight="2" caps="square"/>
				</s:stroke>
			</s:Line> 			
		</s:VGroup>
		<s:VGroup horizontalAlign="center" width="455" paddingTop="40" >
			<s:Button click="navigator.pushView(Getraenkezubereitung)" styleName="homebtn-entkalkung" />
			<s:Label click="navigator.pushView(Getraenkezubereitung)" text="{resourceManager.getString('resources', 'ENTKALKUNG')}" styleName="homelabel" />
		</s:VGroup>
	</s:HGroup>	
	<!-- Trennlinie horizontal -->
	<s:Rect bottom="0" width="90%" horizontalCenter="0">
		<s:stroke>
			<s:SolidColorStroke color="#bfbfbf" weight="2" />
		</s:stroke>
	</s:Rect>
	<s:HGroup height="30%" paddingTop="-5">
		<s:VGroup horizontalAlign="center" width="455" paddingTop="40" >
			<s:Button click="navigator.pushView(Stoerungsbehebung)" styleName="homebtn-sbh" />
			<!-- separate Ressource f端r langes Wort, damit korrekt getrennt wird in D -->
			<s:Label width="300" textAlign="center" click="navigator.pushView(Stoerungsbehebung)" styleName="homelabel">
				<s:text>{resourceManager.getString('resources', 'SBH_H')}</s:text>
			</s:Label>
		</s:VGroup>
		<s:VGroup>
			<!-- Trennlinie vertikal -->
			<s:Line xFrom="6" xTo="6" yFrom="0" yTo="480" height="100%">
				<s:stroke>
					<s:SolidColorStroke color="#bfbfbf" weight="2" caps="square"/>
				</s:stroke>
			</s:Line> 			
		</s:VGroup>
		<s:VGroup horizontalAlign="center" width="455" paddingTop="40" >
			<s:Button click="callHotline(event)" styleName="homebtn-hotline" />
			<s:Label click="callHotline(event)" text="{resourceManager.getString('resources', 'HOTLINE')}" styleName="homelabel" />
		</s:VGroup>
	</s:HGroup>	
</s:View>
